Device independent file format - Wikipedia Device independent file format From Wikipedia, the free encyclopedia (Redirected from DVI (TeX)) Jump to navigation Jump to search This article needs additional citations for verification. Please help improve this article by adding citations to reliable sources. Unsourced material may be challenged and removed. Find sources: "Device independent file format" – news · newspapers · books · scholar · JSTOR (August 2014) (Learn how and when to remove this template message) Device-independent (DVI) Evince previewing a DVI file. Note that referenced images are not displayed, because they are not part of the DVI file. Images will be added in by a print driver, such as dvips. Filename extension .dvi Internet media type application/x-dvi (unofficial) Developed by David R. Fuchs Type of format document The device independent file format (DVI) is the output file format of the TeX typesetting program, designed by David R. Fuchs and implemented by Donald E. Knuth in 1982.[1] Unlike the TeX markup files used to generate them, DVI files are not intended to be human-readable; they consist of binary data describing the visual layout of a document in a manner not reliant on any specific image format, display hardware or printer. DVI files are typically used as input to a second program (called a DVI driver) which translates DVI files to graphical data. For example, most TeX software packages include a program for previewing DVI files on a user's computer display; this program is a driver. Drivers are also used to convert from DVI to popular page description languages (e.g. PostScript, PDF) and for printing. TeX markup may be at least partially reverse-engineered from DVI files, although this process is unlikely to produce high-level constructs identical to those present in the original markup, especially if the original markup used high-level TeX extensions (e.g. LaTeX). DVI differs from PostScript and PDF in that it does not support any form of font embedding. (Both PostScript and PDF formats can either embed their fonts inside the documents, or reference external ones.) For a DVI file to be printed or even properly previewed, the fonts it references must be already installed. Like PDF, DVI uses a limited sort of machine language with termination guarantees that is not a full, Turing-complete programming language like PostScript. As of 2004 there is a compilation of the specifications a DVI driver must implement by the "TUG DVI Driver Standards Committee".[2] It seems to be based on a TUGboat article of the same name from 1992, but which is much shorter.[3] These documents do not specify the endianness, which is however big endian, as can be seen looking into a DVI file itself. Contents 1 Specification 2 Graphics as specials 3 DVI versions 4 DVI related software 4.1 DVI-to-PDF converters 5 References and notes 6 External links Specification[edit] The DVI format was designed to be compact and easily machine-readable. Toward this end, a DVI file is a sequence of commands which form "a machine-like language", in Knuth's words.[1] Each command begins with an eight-bit opcode, followed by zero or more bytes of parameters. For example, an opcode from the group 0x00 through 0x7F (decimal 127), set_char_i, typesets a single character and moves the implicit cursor right by that character's width. In contrast, opcode 0xF7 (decimal 247), pre (the preamble, which must be the first opcode in the DVI file), takes at least fourteen bytes of parameters, plus an optional comment of up to 255 bytes. In a broader sense, a DVI file consists of a preamble, one or more pages, and a postamble. Six state variables are maintained as a tuple of signed, 32-bit integers: ( h , v , w , x , y , z ) {\displaystyle (h,v,w,x,y,z)} . h and v are the current horizontal and vertical offsets from the upper-left corner (increasing v moves down the page), w and x hold horizontal space values, y and z, vertical. These variables can be pushed to or popped from the stack. In addition, the current font f is held as an integer value, but is not pushed and popped with the rest of the state variables when the opcodes push or pop are encountered. Font spacing information is loaded from TFM files. The fonts themselves are not embedded in the DVI file, only referenced by an integer value defined in the relevant fnt_defi op. (This is done exactly twice for each loaded font: once before it is referenced, and once in the postamble.) f contains an integer value of up to four bytes in length, though in practice, TeX only ever outputs font numbers in the range 0 through 255. Similarly, the DVI format supports character codes up to four bytes in length, even though only the 0–255 range is commonly seen, as the TFM format is limited to that range. Character codes in DVI files refer to the character encoding of the current font rather than that of the system processing it. This means, for instance, that an EBCDIC-based system can process a DVI file that was generated by an ASCII-based system, so long as it has the same fonts installed. Graphics as specials[edit] The DVI format does not have support for graphics except for the most basic black-and-white boxes. Instead DVI has a general escape/extension mechanism, known as specials (expressed by the \special command in TeX), which defers graphics (and color) to post-processing filters. There are numerous DVI specials, the most notable of which are PostScript specials, but other programs like tpic have their own.[4]:6,17 DVI versions[edit] This section needs expansion. You can help by adding to it. (August 2014) DVI related software[edit] DVI files are often converted into PDF, PostScript, or PCL format for reading and printing. They can be also viewed directly by using DVI viewers. DVI viewers: YAP (included in MiKTeX), xdvi, windvi, Evince, KDVI, Okular, dviout, dviwin, DView (included in the commercial BaKoMa TeX distribution), javaDVI, MDVI, and DVIWindo (of the now defunct commercial Y&Y TeX, which has been open-sourced).[5] DVI to human-readable format: dvitype (disassembler of sorts) DVI-to-PDF converters: dvipdf, dvipdfm, dvipdfmx DVI-to-PS converters: dvips is the de facto standard. CTAN includes some older ones like dvitops (and DVIPSONE[6]) with a note that they lost their market share a long time ago.[7] DVI-to-bitmap converters: dvipng (generates GIF or PNG), or use dvips and Ghostscript DVI-to-SVG converters: dvisvg,[4]:13 dvisvgm,[4]:13 dvi2svg;[4]:13[8] As of 2014[update] the only one included in CTAN and actively maintained is dvisvgm.[9] The first DVI previewers capable of on-screen previewing and modification of LaTeX documents ran on Amigas.[10][11] DVI-to-PDF converters[edit] dvipdf is a tool to translate DVI files (generated by TeX) to PDF files. In current Linux distributions like Ubuntu, it is a thin wrapper around dvips and Ghostscript, and copyrighted to Artifex Software (the makers of Ghostscript).[12] A possibly different program with the same name—described as a modified version of dvips—was announced in the late 1990s by Sergey Lesenko,[13][14][15] however it was apparently never released.[16][17] dvipdfm is a DVI-to-PDF translator developed by Mark A. Wicks. The early documentation of dvipdfm specifically mentions the limited availability of Lesenko's dvipdf as a reason for creating dvipdfm.[18] dvipdfm supports most of the newer special functions of the PDF format, including bookmarks, annotations, thumbnails, and dvips specials—a feature making possible the inclusion of Encapsulated PostScript (.eps) files like METAPOST output—as well inclusion of JPEG and PNG images; other features of dvipdfm include partial font embedding (reducing file size) and balancing the internal PDF document trees to speed up rendering of large documents.[4]:798 Many of these features (except for the direct support for .eps files[19]) are also present in pdfTeX, which typesets TeX directly to PDF. The 2004, 4th edition of the Guide to LaTeX compares them in the following way:[20] The dvipdfm program is in the original spirit of TEX, that uses DVI as a universal intermediate format for all outputs. Purists might tend to respect this ideal. After all, no one ever considered rewriting TEX to produce PostScript output directly. That said, one must consider that TEX was invented in the days when no one printer specification dominated the field. Today, PDF is much more than a printer format; it is the means of representing documents electronically. That alone would not justify preferring pdfTEX over a DVI-to-PDF converter, nor would the fact that it saves a processing step; the deciding argument is that pdfTEX has established itself as reliable, robust, and flexible. In the end, it is likely a question of which program one is more comfortable with, and which one has given the better results for the particular user. dvipdfmx is an extended version of the dvipdfm DVI-to-PDF translator, included in current TeX distributions like TeX Live 2014[21] and MiKTeX 2.9.[22] The primary goal of the dvipdfmx project is to support multi-byte character encodings and CJK character sets for East Asian languages.[23] dvipdfmx is also included (in a somewhat modified form) in XeTeX.[4]:798 The 2nd, 2008 edition of the LaTeX Graphics Companion makes the following workflow suggestion:[4]:803 The route that you should follow depends mostly on the graphics material that you want to include. If most of it is in EPS format, the easiest way is to use latex, followed by dvips and finally ps2pdf. If all of your graphics files are already in PDF format, with some JPEG and PNG images, the more direct route is to run pdflatex. You can also combine both approaches by running latex and the dvipdfmx program. If you make a lot of use of PSTricks, you should look at [...] the pst-pdf package. References and notes[edit] This section may require cleanup to meet Wikipedia's quality standards. The specific problem is: unmix these Please help improve this section if you can. (August 2014) (Learn how and when to remove this template message) ^ a b Donald E. Knuth (December 1995). "DVItype" (WEB source code; extract full documentation using WEAVE). Version 3.6. Retrieved 2008-05-07. Cite journal requires |journal= (help) ^ TUG DVI Driver Standards Committee. "The DVI Driver Standard, Level 0" (PDF). ctan.org. ^ TUG DVI Driver Standards Committee (1992). "The DVI Driver Standard, Level 0" (PDF). TUGboat. 13: 54. ^ a b c d e f g Michel Goossens, Frank Mittelbach, Sebastian Rahtz, Denis Roegel, Herbert Voß (2008). The LaTeX Graphics Companion (2nd ed.). Addison-Wesley. ISBN 978-0-321-50892-8.CS1 maint: multiple names: authors list (link) ^ https://www.tug.org/yandy/dviwindo.htm ^ https://www.tug.org/yandy/dvipsone.htm ^ http://www.ctan.org/tex-archive/dviware/dvitops ^ https://www.tug.org/TUGboat/tb27-2/tb87frischauf.pdf ^ http://www.ctan.org/tex-archive/dviware/ ^ In 1986 Tomas Rokicki printed his first page with dvisw, an early DVI printer driver for the Amiga, on a QMS SmartWriter using AmigaTeX by Radical Eye Software. A link to a relic info about milestones of LaTeX history is available at this external site. ^ Rokicki, Tomas (April 1988). "The Commodore Amiga: A Magic TeX Machine" (PDF). TUGboat. 9 (1): 40–41. Retrieved 2010-11-19. ^ "Archived copy". Archived from the original on 2015-09-09. Retrieved 2014-08-03.CS1 maint: archived copy as title (link) ^ https://www.tug.org/TUGboat/tb17-3/tb52lese.pdf ^ https://www.tug.org/TUGboat/tb18-3/tb56lese.pdf ^ http://tex.loria.fr/general/eurotex98/eurotex98-lesenko.ps.gz ^ Helmut Kopka; Patrick W. Daly (February 2008) [2004]. Guide to LaTeX (4th; 9th printing ed.). Pearson Education. § 13.2.2 the dvipdfm driver. ISBN 0-321-17385-6. ^ http://compgroups.net/comp.text.tex/where-art-dvipdf/1912300 ^ Mark A. Wicks, Dvipdfm User’s Manual Archived 2015-07-06 at the Wayback Machine, Version 0.12.4 September 19, 1999, page 2 ^ http://www.tex.ac.uk/cgi-bin/texfaq2html?label=dvipdfmgraphics ^ Helmut Kopka; Patrick W. Daly (February 2008) [2004]. Guide to LaTeX (4th; 9th printing ed.). Pearson Education. § 13.2.3 The pdfTEX program. ISBN 0-321-17385-6. ^ https://packages.debian.org/sid/texlive-base ^ http://miktex.org/pkg/az ^ The Dvipdfmx Project Fuchs, David (October 1982). "The format of TeX's DVI files" (PDF). TUGboat. 3 (2): 13–19. Retrieved 2009-08-19. External links[edit] (Unofficial) description of the DVI file format TeX DVI file Information utility http://www.ctan.org/tex-archive/dviware/ http://tex.stackexchange.com/questions/38145/why-does-pdflatex-produce-bigger-output-files-than-latexdvipdfm v t e TeX Macro packages AMS-TeX ArabTeX CircuiTikZ ConTeXt FarsiTeX LaTeX MusiXTeX Plain TeX PSTricks TikZ TIPA XyMTeX Alternative TeX engines eTeX LuaTeX pdfTeX XeTeX New Typesetting System Omega Distributions Active TeX Live (MacTeX, W32TeX) MiKTeX TeXPortal TinyTeX Deprecated teTeX fpTeX gwTeX OzTeX AmigaTeX PasTeX Community CTAN TUGboat The PracTeX Journal DANTE Related DVI Computer Modern Metafont MetaPost WEB CWEB TeX Directory Structure TeX font metric Texinfo Retrieved from "https://en.wikipedia.org/w/index.php?title=Device_independent_file_format&oldid=985320248" Categories: Page description languages Computer file formats Open formats TeX Hidden categories: CS1 errors: missing periodical CS1 maint: multiple names: authors list CS1 maint: archived copy as title Webarchive template wayback links Articles needing additional references from August 2014 All articles needing additional references Articles to be expanded from August 2014 All articles to be expanded Articles using small message boxes Articles containing potentially dated statements from 2014 All articles containing potentially dated statements Articles needing cleanup from August 2014 All pages needing cleanup Cleanup tagged articles with a reason field from August 2014 Wikipedia pages needing cleanup from August 2014 Navigation menu Personal tools Not logged in Talk Contributions Create account Log in Namespaces Article Talk Variants Views Read Edit View history More Search Navigation Main page Contents Current events Random article About Wikipedia Contact us Donate Contribute Help Learn to edit Community portal Recent changes Upload file Tools What links here Related changes Upload file Special pages Permanent link Page information Cite this page Wikidata item Print/export Download as PDF Printable version Languages Deutsch Español Français Italiano Magyar Nederlands 日本語 Polski Русский Suomi Українська Edit links This page was last edited on 25 October 2020, at 08:11 (UTC). Text is available under the Creative Commons Attribution-ShareAlike License;additional terms may apply. By using this site, you agree to the Terms of Use and Privacy Policy. Wikipedia® is a registered trademark of the Wikimedia Foundation, Inc., a non-profit organization. Privacy policy About Wikipedia Disclaimers Contact Wikipedia Mobile view Developers Statistics Cookie statement